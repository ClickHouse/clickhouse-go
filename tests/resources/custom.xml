<?xml version="1.0" ?>
<clickhouse>
    <listen_host>0.0.0.0</listen_host>
    <listen_try>1</listen_try>
    <https_port>8443</https_port>
    <tcp_port_secure>9440</tcp_port_secure>
    <logger>
        <console>1</console>
    </logger>
    <timezone>UTC</timezone>
    <mark_cache_size>104857600</mark_cache_size>
    <openSSL>
        <server>
            <certificateFile>/etc/clickhouse-server/certs/clickhouse.crt</certificateFile>
            <privateKeyFile>/etc/clickhouse-server/certs/clickhouse.key</privateKeyFile>
            <verificationMode>relaxed</verificationMode>
            <caConfig>/etc/clickhouse-server/certs/CAroot.crt</caConfig>
            <cacheSessions>true</cacheSessions>
            <disableProtocols>sslv2,sslv3</disableProtocols>
            <preferServerCiphers>true</preferServerCiphers>
        </server>
        <client>
            <loadDefaultCAFile>false</loadDefaultCAFile>
            <caConfig>/etc/clickhouse-server/certs/CAroot.crt</caConfig>
            <cacheSessions>true</cacheSessions>
            <disableProtocols>sslv2,sslv3</disableProtocols>
            <preferServerCiphers>true</preferServerCiphers>
            <verificationMode>relaxed</verificationMode>
            <invalidCertificateHandler>
                <name>RejectCertificateHandler</name>
            </invalidCertificateHandler>
        </client>
    </openSSL>
    <display_name>clickhouse</display_name>
    <custom_settings_prefixes>custom_</custom_settings_prefixes>

    <!-- UNLIMITED POWER! -->
    <max_connections>10000</max_connections>
    <max_concurrent_queries>50000</max_concurrent_queries>
    <max_concurrent_insert_queries>50000</max_concurrent_insert_queries>
    <max_concurrent_select_queries>50000</max_concurrent_select_queries>
    <!--broken?-->
    <!--<max_concurrent_queries_for_user>0</max_concurrent_queries_for_user>-->
    <!--<max_concurrent_queries_for_all_users>0</max_concurrent_queries_for_all_users>-->
    <max_keep_alive_requests>50000</max_keep_alive_requests>
    <keep_alive_timeout>10</keep_alive_timeout>
    <http_connections_soft_limit>50000</http_connections_soft_limit>
    <http_connections_store_limit>50000</http_connections_store_limit>
    <http_connections_warn_limit>50000</http_connections_warn_limit>

</clickhouse>
